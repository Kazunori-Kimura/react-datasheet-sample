(this["webpackJsonpcompare-table-components"]=this["webpackJsonpcompare-table-components"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(10),i=n.n(o),l=n(73),s=n(147),u=n(148),d=n(23),j=n(13),b=n(17),O=n(14),m=n(132),f=n(142),v=n(139),p=n(143),h=n(144),g=n(145),x=function(e){if(e&&"object"===typeof e){var t=e;return"number"===typeof t.r&&"number"===typeof t.g&&"number"===typeof t.b}return!1},y=function(e){if(e&&"object"===typeof e){var t=e;return"string"===typeof t.id&&"string"===typeof t.name&&"number"===typeof t.x&&"number"===typeof t.y&&"number"===typeof t.z&&x(t.color)}return!1},w={r:0,g:0,b:0},S=n(41),N=Object(S.b)({name:"user",initialState:{},reducers:{setUserInfo:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{current:t.payload})},clearUserInfo:function(e){return Object(j.a)(Object(j.a)({},e),{},{current:void 0})}}}),I=N.actions,C=I.setUserInfo,P=I.clearUserInfo,k=N,M=n(2),R=n(150),B=n(71),z=n.n(B);!function(e){e[e.Before=-1]="Before",e[e.Same=0]="Same",e[e.After=1]="After"}(r||(r={}));var D=function(e){if(e){var t=parseFloat(e);return isNaN(t)?0:t}return 0},F=function(e,t){if(t){if(e.row===t.row&&e.col===t.col)return r.Same;if(e.row>t.row)return r.After;if(e.row===t.row&&e.col>t.col)return r.After}return r.Before},J=n(4),E=function(e){var t,n=e.children,c=e.row,o=e.col,i=e.selected,l=e.attributesRenderer,s=e.current,u=e.onSelect,d=Object(M.a)(e,["children","row","col","selected","attributesRenderer","current","onSelect"]),b=l?l(d.cell,c,o):{};return Object(a.useEffect)((function(){var e={row:c,col:o};i?F(e,s)===r.Before&&u&&u(e):F(e,s)===r.Same&&u&&u(void 0)}),[o,s,u,c,i]),Object(J.jsx)("td",Object(j.a)(Object(j.a)({className:d.className,onMouseDown:d.onMouseDown,onMouseOver:d.onMouseOver,onDoubleClick:d.onDoubleClick,onContextMenu:d.onContextMenu,colSpan:d.cell.colSpan,rowSpan:d.cell.rowSpan,style:null!==(t=d.style)&&void 0!==t?t:{}},b),{},{children:n}))},T=n(135),A=n(153),U=n(138),W=n(50),L=Object(m.a)((function(e){return{root:{},title:{flex:1},action:{}}})),q=function(e){var t=e.title,n=e.uninsertable,r=e.undeletable,a=e.insert,c=e.remove,o=e.goBack,i=L();return Object(J.jsxs)(T.a,{className:i.root,disableGutters:!0,children:[o&&Object(J.jsx)(A.a,{title:"\u623b\u308b",children:Object(J.jsx)(U.a,{onClick:o,children:Object(J.jsx)(W.b,{})})}),Object(J.jsx)(v.a,{className:i.title,variant:"h6",component:"h2",children:t}),!n&&Object(J.jsx)(A.a,{title:"\u8ffd\u52a0",children:Object(J.jsx)(U.a,{onClick:a,children:Object(J.jsx)(W.c,{})})}),!r&&Object(J.jsx)(A.a,{title:"\u524a\u9664",children:Object(J.jsx)(U.a,{onClick:c,children:Object(J.jsx)(W.a,{})})})]})},G=(n(97),Object(m.a)((function(e){return{root:{}}})));var H=function(e){var t=e.data,n=e.title,r=e.columns,c=e.convertRow,o=Object(a.useState)([]),i=Object(O.a)(o,2),l=i[0],s=i[1],u=Object(a.useState)(),d=Object(O.a)(u,2),b=d[0],m=d[1],f=G(),v=function(e){var t=e.component,n=void 0===t?"div":t,r=e.items,c=e.page,o=void 0===c?0:c,i=e.rowsPerPage,l=e.rowsPerPageOptions,s=void 0===l?[5,10,30]:l,u=Object(a.useState)(o),d=Object(O.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(i),f=Object(O.a)(m,2),v=f[0],p=f[1],h=Object(a.useMemo)((function(){return v-Math.min(v,r.length-j*v)}),[r.length,j,v]),g=Object(a.useMemo)((function(){return r.slice(j*v,j*v+v)}),[j,r,v]);return{component:n,count:r.length,emptyRows:h,page:j,pageItems:g,rowsPerPage:v,rowsPerPageOptions:s,onChangePage:function(e,t){b(t)},onChangeRowsPerPage:function(e){var t=e.target.value,n=parseInt(t,10);Number.isNaN(n)||(b(0),p(n))}}}({items:l,rowsPerPage:10}),p=(v.emptyRows,v.pageItems),h=Object(M.a)(v,["emptyRows","pageItems"]);return Object(a.useEffect)((function(){var e=t.map(c);s(e)}),[c,t]),Object(J.jsxs)("div",{className:f.root,tabIndex:-1,onKeyDown:function(e){e.key},children:[Object(J.jsx)(q,{title:n,insert:function(){var e=null===b||void 0===b?void 0:b.row;console.log("handleInsert: ".concat(e)),"number"===typeof e&&(e+=1),function(e){var t=JSON.parse(JSON.stringify(l)),n=e?h.page*h.rowsPerPage+e:t.length;console.log("insert: ".concat(n));var r=c(null,n);"number"===typeof e?t.splice(e,0,r):t.push(r),s(t)}(e)}}),Object(J.jsx)(z.a,{data:p,valueRenderer:function(e){return e.value},sheetRenderer:function(e){return Object(J.jsxs)("table",{className:e.className,children:[Object(J.jsx)("thead",{children:Object(J.jsx)("tr",{children:r.map((function(e,t){return Object(J.jsx)("th",{className:"cell read-only",children:e},"datasheet-header-cell-".concat(t))}))})}),Object(J.jsx)("tbody",{children:e.children})]})},cellRenderer:function(e){return Object(J.jsx)(E,Object(j.a)({current:b,onSelect:m},e))}}),Object(J.jsx)(R.a,Object(j.a)({},h))]})},K=function(e){var t=e.data;return Object(J.jsx)(H,{title:"Point",data:t,columns:["name","x","y","z","color"],validator:y,convertRow:function(e,t){var n,r,a,c,o,i,l,s;return[{value:null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"point".concat(t+1),width:100,itemId:null!==(r=null===e||void 0===e?void 0:e.id)&&void 0!==r?r:"point".concat(t+1)},{value:"".concat(null!==(a=null===e||void 0===e?void 0:e.x)&&void 0!==a?a:0),width:100},{value:"".concat(null!==(c=null===e||void 0===e?void 0:e.y)&&void 0!==c?c:0),width:100},{value:"".concat(null!==(o=null===e||void 0===e?void 0:e.z)&&void 0!==o?o:0),width:100},{value:"[".concat(null!==(i=null===e||void 0===e?void 0:e.color.r)&&void 0!==i?i:0,", ").concat(null!==(l=null===e||void 0===e?void 0:e.color.g)&&void 0!==l?l:0,", ").concat(null!==(s=null===e||void 0===e?void 0:e.color.b)&&void 0!==s?s:0,"]"),readOnly:!0,width:100}]},parseEntity:function(e,n){var r,a,c=null!==(r=e[0].itemId)&&void 0!==r?r:"p".concat(n+1),o=null!==(a=e[0].value)&&void 0!==a?a:"point".concat(n+1),i=t.find((function(e){return e.id===c}));if(i){var l=JSON.parse(JSON.stringify(i));return l.name=o,l}return{id:c,name:o,x:D(e[1].value),y:D(e[2].value),z:D(e[3].value),color:w}}})},V=Object(m.a)((function(e){return{root:{margin:e.spacing(2),padding:e.spacing(3)},header:{display:"flex",alignItems:"center",padding:e.spacing(1)},title:{flex:1},signOut:{marginLeft:e.spacing(1)},json:{margin:e.spacing(1),padding:e.spacing(1),backgroundColor:e.palette.background.default}}})),Q=function(){return Math.floor(1e3*Math.random())/100},X=function(e){var t=e.user,n=e.signOut,r=Object(a.useState)([]),c=Object(O.a)(r,2),o=c[0],i=c[1],l=V();return Object(a.useEffect)((function(){var e=Object(b.a)(Array(100)).map((function(e,t){return{id:"p".concat(t+1),name:"point".concat(t+1),x:Q(),y:Q(),z:Q(),color:w}}));i(e)}),[]),Object(J.jsxs)(f.a,{className:l.root,children:[Object(J.jsxs)("header",{className:l.header,children:[Object(J.jsx)(v.a,{variant:"h6",component:"h1",className:l.title,children:"Home"}),t&&Object(J.jsx)(v.a,{variant:"body1",children:t.email}),Object(J.jsx)(p.a,{className:l.signOut,variant:"contained",color:"primary",size:"small","data-testid":"signout",onClick:n,children:"Sign Out"})]}),Object(J.jsx)(h.a,{}),Object(J.jsxs)(g.a,{container:!0,children:[Object(J.jsx)(g.a,{item:!0,xs:6,children:Object(J.jsx)(K,{data:o})}),Object(J.jsx)(g.a,{item:!0,xs:6,children:Object(J.jsx)("pre",{className:l.json,children:JSON.stringify(o,null,4)})})]})]})},Y=function(){var e=Object(d.c)((function(e){return e.user})),t=Object(d.b)(),n={user:e.current,signOut:function(){return t(P())}};return Object(J.jsx)(X,Object(j.a)({},n))},Z=n(11),$=n(146),_=n(151),ee=Object(m.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:{},submit:{marginTop:e.spacing(3)}}})),te=function(e){var t,n,r=e.signIn,c=Object(a.useState)({email:"test@example.com",password:"secret"}),o=Object(O.a)(c,2),i=o[0],l=o[1],s=ee(),u=function(e){var t=e.currentTarget,n=t.name,r=t.value;l(Object(j.a)(Object(j.a)({},i),{},Object(Z.a)({},n,r)))};return Object(J.jsx)("div",{className:s.root,children:Object(J.jsxs)($.a,{component:"form",maxWidth:"xs",className:s.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),e.currentTarget.checkValidity()&&r&&i.email&&r(i.email)},children:[Object(J.jsx)(v.a,{variant:"h1",children:"Sign In"}),Object(J.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email",id:"email",name:"email",value:null!==(t=i.email)&&void 0!==t?t:"",onChange:u,autoFocus:!0}),Object(J.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",id:"password",type:"password",name:"password",value:null!==(n=i.password)&&void 0!==n?n:"",onChange:u}),Object(J.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"primary",className:s.submit,"data-testid":"signin",children:"Sign In"})]})})},ne=function(){var e=Object(d.b)(),t={signIn:function(t){e(C({email:t}))}};return Object(J.jsx)(te,Object(j.a)({},t))},re=function(e){var t=e.user;return Object(J.jsx)(J.Fragment,{children:t?Object(J.jsx)(Y,{}):Object(J.jsx)(ne,{})})},ae=function(){var e={user:Object(d.c)((function(e){return e.user})).current};return Object(J.jsx)(re,Object(j.a)({},e))},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},oe=n(19),ie=(n(99),Object(oe.c)({user:k.reducer})),le=function(){var e=Object(b.a)(Object(S.c)());return Object(S.a)({reducer:ie,middleware:e,devTools:!1})}(),se=Object(l.a)({overrides:{MuiCssBaseline:{"@global":{html:{margin:0,padding:0},body:{margin:0,padding:0}}}}});i.a.render(Object(J.jsxs)(c.a.StrictMode,{children:[Object(J.jsx)(s.a,{}),Object(J.jsx)(d.a,{store:le,children:Object(J.jsx)(u.a,{theme:se,children:Object(J.jsx)(ae,{})})})]}),document.getElementById("root")),ce()}},[[100,1,2]]]);
//# sourceMappingURL=main.24cb1390.chunk.js.map